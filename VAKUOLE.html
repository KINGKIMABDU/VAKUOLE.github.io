<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Die Vakuole ‚Äì Interaktive Lernseite</title>
<link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #000000;
    --surface: #0d1008;
    --card: #1a1f0e;
    --border: #3E432E;
    --accent: #A7D129;
    --accent2: #616F39;
    --accent3: #c8e86a;
    --text: #dde8c0;
    --muted: #7a8a5a;
    --heading-font: 'Nunito', sans-serif;
    --body-font: 'Nunito', sans-serif;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    background: var(--bg);
    color: var(--text);
    font-family: var(--body-font);
    font-size: 16px;
    line-height: 1.75;
    min-height: 100vh;
    overflow-x: hidden;
  }

  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background: radial-gradient(ellipse 80% 60% at 20% 10%, rgba(167,209,41,0.07) 0%, transparent 60%),
                radial-gradient(ellipse 60% 80% at 80% 90%, rgba(97,111,57,0.06) 0%, transparent 60%);
    pointer-events: none;
    z-index: 0;
  }

  .wrapper {
    position: relative;
    z-index: 1;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem 4rem;
  }

  .hero {
    text-align: center;
    padding: 5rem 0 3rem;
  }
  .hero-label {
    display: inline-block;
    font-size: 0.75rem;
    letter-spacing: 0.25em;
    text-transform: uppercase;
    color: var(--accent);
    border: 1px solid rgba(167,209,41,0.35);
    padding: 0.3rem 1rem;
    border-radius: 999px;
    margin-bottom: 1.5rem;
    backdrop-filter: blur(4px);
  }
  .hero h1 {
    font-family: var(--heading-font);
    font-size: clamp(2.8rem, 6vw, 5rem);
    font-weight: 900;
    line-height: 1.05;
    background: linear-gradient(135deg, #fff 0%, var(--accent) 60%, var(--accent2) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 1rem;
  }
  .hero p {
    max-width: 600px;
    margin: 0 auto;
    color: var(--muted);
    font-size: 1.05rem;
  }

  .tabs {
    display: flex;
    gap: 0.5rem;
    justify-content: center;
    flex-wrap: wrap;
    margin: 2.5rem 0;
  }
  .tab-btn {
    background: var(--card);
    border: 1px solid var(--border);
    color: var(--muted);
    font-family: var(--body-font);
    font-size: 0.875rem;
    padding: 0.5rem 1.25rem;
    border-radius: 999px;
    cursor: pointer;
    transition: all 0.25s;
  }
  .tab-btn:hover { border-color: var(--accent); color: var(--accent); }
  .tab-btn.active {
    background: rgba(167,209,41,0.12);
    border-color: var(--accent);
    color: var(--accent);
  }

  /* ‚îÄ‚îÄ Tab animations ‚îÄ‚îÄ */
  .section {
    display: none;
    opacity: 0;
    transform: translateY(14px);
  }
  .section.active {
    display: block;
  }
  @keyframes tabFadeIn {
    from { opacity: 0; transform: translateY(14px); }
    to   { opacity: 1; transform: translateY(0); }
  }
  .section.tab-enter {
    animation: tabFadeIn 0.35s cubic-bezier(0.22, 1, 0.36, 1) forwards;
  }

  .card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 1.25rem;
    padding: 2rem 2.25rem;
    margin-bottom: 1.5rem;
    position: relative;
    overflow: hidden;
  }
  .card::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, var(--accent), transparent);
    opacity: 0.5;
  }
  .card h2 {
    font-family: var(--heading-font);
    font-size: 1.6rem;
    font-weight: 700;
    margin-bottom: 0.75rem;
    color: #fff;
  }
  .card h3 {
    font-family: var(--heading-font);
    font-size: 1.15rem;
    color: var(--accent);
    margin: 1.2rem 0 0.4rem;
  }
  .card p { color: var(--text); margin-bottom: 0.75rem; }
  .card ul { padding-left: 1.5rem; margin-bottom: 0.75rem; }
  .card ul li { margin-bottom: 0.4rem; color: var(--text); }
  .card ul li::marker { color: var(--accent); }

  .info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 1.25rem;
    margin-bottom: 1.5rem;
  }
  .info-chip {
    background: rgba(167,209,41,0.06);
    border: 1px solid rgba(167,209,41,0.2);
    border-radius: 1rem;
    padding: 1.25rem 1.5rem;
  }
  .info-chip .ic-label {
    font-size: 0.7rem;
    text-transform: uppercase;
    letter-spacing: 0.15em;
    color: var(--accent);
    margin-bottom: 0.4rem;
  }
  .info-chip .ic-value {
    font-size: 1rem;
    color: #fff;
    font-weight: 500;
  }

  .badge {
    display: inline-block;
    background: rgba(97,111,57,0.18);
    border: 1px solid rgba(97,111,57,0.4);
    color: var(--accent3);
    font-size: 0.75rem;
    padding: 0.2rem 0.75rem;
    border-radius: 999px;
    margin: 0.2rem;
  }

  .sim-wrapper {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 1.25rem;
    overflow: hidden;
    margin-bottom: 1.5rem;
  }
  .sim-header {
    padding: 1.25rem 2rem;
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    gap: 1rem;
  }
  .sim-header h2 {
    font-family: var(--heading-font);
    font-size: 1.4rem;
    color: #fff;
  }
  .sim-controls { display: flex; gap: 0.75rem; align-items: center; flex-wrap: wrap; }
  .btn {
    font-family: var(--body-font);
    font-size: 0.875rem;
    font-weight: 500;
    padding: 0.55rem 1.4rem;
    border-radius: 999px;
    border: none;
    cursor: pointer;
    transition: all 0.2s;
    letter-spacing: 0.03em;
  }
  .btn-start {
    background: linear-gradient(135deg, var(--accent), var(--accent2));
    color: #000;
  }
  .btn-start:hover { opacity: 0.85; transform: translateY(-1px); }
  .btn-stop {
    background: transparent;
    border: 1px solid #e04060;
    color: #e04060;
  }
  .btn-stop:hover { background: rgba(224,64,96,0.12); }
  .btn-reset {
    background: transparent;
    border: 1px solid var(--border);
    color: var(--muted);
  }
  .btn-reset:hover { border-color: var(--accent2); color: var(--accent2); }

  .sim-status {
    font-size: 0.75rem;
    padding: 0.25rem 0.75rem;
    border-radius: 999px;
    font-weight: 500;
  }
  .sim-status.idle    { background: rgba(122,138,90,0.15); color: var(--muted); }
  .sim-status.running { background: rgba(167,209,41,0.12); color: var(--accent3); }
  .sim-status.stopped { background: rgba(224,64,96,0.12);  color: #e04060; }

  canvas#simCanvas {
    display: block;
    width: 100%;
    height: 520px;
    cursor: grab;
    touch-action: none;
  }
  canvas#simCanvas:active { cursor: grabbing; }

  .sim-legend {
    padding: 1rem 2rem;
    border-top: 1px solid var(--border);
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
  }
  .legend-item { display: flex; align-items: center; gap: 0.5rem; font-size: 0.8rem; color: var(--muted); }
  .legend-dot  { width: 12px; height: 12px; border-radius: 50%; flex-shrink: 0; }

  .sim-info-bar {
    padding: 0.75rem 2rem;
    border-top: 1px solid var(--border);
    font-size: 0.8rem;
    color: var(--muted);
    background: rgba(0,0,0,0.15);
  }

  .func-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1rem;
    margin-top: 1rem;
  }
  .func-card {
    background: rgba(0,0,0,0.2);
    border: 1px solid var(--border);
    border-radius: 1rem;
    padding: 1.25rem;
    transition: border-color 0.2s;
  }
  .func-card:hover { border-color: rgba(167,209,41,0.4); }
  .func-card .fc-icon { font-size: 1.8rem; margin-bottom: 0.5rem; display: block; }
  .func-card h4 { font-family: var(--heading-font); font-size: 1rem; color: #fff; margin-bottom: 0.4rem; }
  .func-card p  { font-size: 0.875rem; color: var(--muted); margin: 0; }

  .footer {
    text-align: center;
    padding: 2rem 0 1rem;
    color: var(--muted);
    font-size: 0.8rem;
    border-top: 1px solid var(--border);
    margin-top: 3rem;
  }
  .copyright-note {
    margin-top: 0.6rem;
    font-size: 0.75rem;
    color: var(--accent);
    letter-spacing: 0.08em;
    opacity: 0.7;
  }

  ::-webkit-scrollbar { width: 6px; }
  ::-webkit-scrollbar-track { background: var(--bg); }
  ::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }

  @media (max-width: 640px) {
    .sim-header { flex-direction: column; align-items: flex-start; }
    canvas#simCanvas { height: 380px; }
  }
</style>
</head>
<body>
<div class="wrapper">

  <div class="hero">
    <div class="hero-label">Biologie ¬∑ Zellorganellen</div>
    <h1>Die Vakuole</h1>
    <p>Entdecke den fl√ºssigkeitsgef√ºllten Gro√üspeicher der Zelle, von seinem Aufbau √ºber seine Funktionen bis hin zu einer anschaulichen Simulation.</p>
  </div>

  <div class="tabs">
    <button class="tab-btn active" onclick="showTab('simulation', this)">Simulation</button>
    <button class="tab-btn" onclick="showTab('aufbau', this)">Aufbau</button>
    <button class="tab-btn" onclick="showTab('funktionen', this)">Funktionen</button>
    <button class="tab-btn" onclick="showTab('typen', this)">Typen & Vorkommen</button>
    <button class="tab-btn" onclick="showTab('vergleich', this)">Pflanzen vs. Tiere</button>
  </div>

  <!-- SIMULATION TAB -->
  <div class="section active tab-enter" id="tab-simulation">
    <div class="sim-wrapper">
      <div class="sim-header">
        <div>
          <h2>Zell-Simulation</h2>
          <small style="color:var(--muted)">Ziehe zum Drehen ¬∑ Scrolle zum Zoomen</small>
        </div>
        <div class="sim-controls">
          <span class="sim-status idle" id="simStatus">‚óè Bereit</span>
          <button class="btn btn-reset" onclick="resetSim()">‚Ü∫ Reset</button>
          <button class="btn btn-stop" onclick="stopSim()">‚èπ Stopp</button>
          <button class="btn btn-start" onclick="startSim()">‚ñ∂ Simulation starten</button>
        </div>
      </div>
      <canvas id="simCanvas"></canvas>
      <div class="sim-legend">
        <div class="legend-item"><div class="legend-dot" style="background:#616F39"></div> Zellmembran</div>
        <div class="legend-item"><div class="legend-dot" style="background:#3E432E"></div> Chloroplasten</div>
        <div class="legend-item"><div class="legend-dot" style="background:#A7D129"></div> Vakuole (Tonoplast)</div>
        <div class="legend-item"><div class="legend-dot" style="background:#e0a030"></div> Zellkern</div>
        <div class="legend-item"><div class="legend-dot" style="background:#c8e86a"></div> Zellsaft / Wasser</div>
        <div class="legend-item"><div class="legend-dot" style="background:#ff6688"></div> Ionen / Molek√ºle</div>
      </div>
      <div class="sim-info-bar" id="simInfoBar">
        Starte die Simulation, um zu sehen, wie die Vakuole Turgor aufbaut und Ionen transportiert.
      </div>
    </div>

    <div class="card">
      <h2>Was zeigt die Simulation?</h2>
      <p>Du siehst eine vereinfachte <strong>Pflanzenzelle</strong> mit einer gro√üen zentralen Vakuole. Im Ruhezustand kannst du die Zelle frei drehen und erkunden. Wenn du die Simulation startest, passiert Folgendes:</p>
      <ul>
        <li><strong>Ionen & Molek√ºle</strong> werden aktiv √ºber den Tonoplasten (Vakuolenmembran) in die Vakuole hineintransportiert.</li>
        <li><strong>Osmose:</strong> Wasser str√∂mt durch Aquaporine nach, der Zellsaft-Druck (Turgordruck) steigt.</li>
        <li>Die Vakuole <strong>w√§chst sichtbar</strong> und dr√ºckt das Zytoplasma an die Zellwand.</li>
        <li>Am Ende kehrt sich der Prozess um, Ionenpumpen k√∂nnen Stoffe auch wieder herausschleusen.</li>
      </ul>
      <p style="color:var(--muted);font-size:0.875rem">Hinweis: Die Animation ist sehr vereinfacht und dient nur als Modell, nicht als eine ma√üst√§bliche Darstellung.</p>
    </div>
  </div>

  <!-- AUFBAU TAB -->
  <div class="section" id="tab-aufbau">
    <div class="card">
      <h2>Aufbau der Vakuole</h2>
      <p>Die Vakuole ist ein von einer Membran umschlossener Bereich im Inneren der Zelle, der mit Fl√ºssigkeit, dem sogenannten Zellsaft gef√ºllt ist. Sie z√§hlt zu den Organellen, also zu den funktionellen Bestandteilen einer Zelle.</p>
      <div class="info-grid">
        <div class="info-chip">
          <div class="ic-label">Gr√∂√üe (Pflanzenzelle)</div>
          <div class="ic-value">bis zu 90 % des Zellvolumens</div>
        </div>
        <div class="info-chip">
          <div class="ic-label">Membran</div>
          <div class="ic-value">Tonoplast (Lipiddoppelschicht)</div>
        </div>
        <div class="info-chip">
          <div class="ic-label">Inhalt</div>
          <div class="ic-value">Zellsaft (w√§ssrige L√∂sung)</div>
        </div>
        <div class="info-chip">
          <div class="ic-label">pH-Wert (Zellsaft)</div>
          <div class="ic-value">oft sauer (pH 3‚Äì6)</div>
        </div>
      </div>
      <h3>Der Tonoplast</h3>
      <p>Die Membran, die die Vakuole umgibt, nennt man <strong>Tonoplast</strong>. Wie alle biologischen Membranen besteht sie aus einer <em>Lipiddoppelschicht</em>, in die verschiedene Proteine eingelagert sind.</p>
      <ul>
        <li><strong>Aquaporine (TIP-Proteine):</strong> Das sind spezielle Wasserkan√§le, die den Durchtritt von Wasser durch die Membran erm√∂glichen und damit die Osmose regulieren.</li>
        <li><strong>Protonenpumpen (H‚Å∫-ATPasen):</strong> Diese Pumpen transportieren aktiv Wasserstoffionen (H‚Å∫) in die Vakuole. Dadurch wird der pH-Wert im Inneren abgesenkt und ein Konzentrationsgradient aufgebaut.</li>
        <li><strong>Transporter (z. B. ABC-Transporter):</strong> Sie sorgen daf√ºr, dass Ionen, Zucker, Aminos√§uren oder auch Fremdstoffe gezielt in die Vakuole hinein oder aus ihr heraus transportiert werden.</li>
      </ul>
      <h3>Der Zellsaft</h3>
      <p>Das Innere der Vakuole ist mit <strong>Zellsaft</strong> (Vakuolenfl√ºssigkeit) gef√ºllt. Dieser enth√§lt:</p>
      <ul>
        <li>Wasser als Hauptbestandteil</li>
        <li>Anorganische Ionen (K‚Å∫, Na‚Å∫, Ca¬≤‚Å∫, Cl‚Åª, PO‚ÇÑ¬≥‚Åª)</li>
        <li>Organische S√§uren (√Ñpfels√§ure, Zitronens√§ure)</li>
        <li>Zucker und Aminos√§uren</li>
        <li>Sekund√§re Pflanzenstoffe wie Anthocyane (Farbstoffe), Tannine oder Alkaloide</li>
        <li>Abbauenzyme wie Proteasen und Nukleasen, besonders in sogenannten lytischen Vakuolen</li>
      </ul>
      <h3>Entstehung der Vakuole</h3>
      <p>Vakuolen entstehen durch das Verschmelzen kleiner Vesikel. Diese Vesikel werden vom Endoplasmatischen Retikulum (ER) oder vom Golgi-Apparat abgeschn√ºrt. In jungen Pflanzenzellen gibt es zun√§chst viele kleine Vakuolen. Mit dem Wachstum der Zelle verbinden sich diese nach und nach miteinander, bis schlie√ülich eine gro√üe zentrale Vakuole entsteht, die den Gro√üteil des Zellinnenraums einnimmt.</p>
    </div>
  </div>

  <!-- FUNKTIONEN TAB -->
  <div class="section" id="tab-funktionen">
    <div class="card">
      <h2>Funktionen der Vakuole</h2>
      <p>Die Vakuole ist viel mehr als nur ein passiver Fl√ºssigkeitsspeicher. Sie erf√ºllt in der Zelle zahlreiche wichtige Funktionen:</p>
      <div class="func-grid">
        <div class="func-card">
          <h4>Osmoregulation & Turgor</h4>
          <p>Durch die Aufnahme von Wasser und Ionen erzeugt die Vakuole den Turgordruck. Dieser dr√ºckt das Zellinnere gegen die Zellwand und sorgt f√ºr die Stabilit√§t der Pflanze. Ohne die Vakuole w√ºrden Pflanzen schnell welken.</p>
        </div>
        <div class="func-card">
          <h4>Speicherung & Entsorgung</h4>
          <p>Die Vakuole speichert N√§hrstoffe wie St√§rke, Proteine und Mineralstoffe. Gleichzeitig lagert sie Schadstoffe, Giftstoffe und zellul√§re Abfallprodukte ein, die sonst das Zytoplasma sch√§digen w√ºrden.</p>
        </div>
        <div class="func-card">
          <h4>Abbau (Lysis)</h4>
          <p>Pflanzliche Vakuolen enthalten Hydrolasen (Abbauenzyme), die besch√§digte Proteine, alte Organellen und eingedrungene Mikroorganismen abbauen, √§hnlich wie Lysosomen bei Tierzellen.</p>
        </div>
        <div class="func-card">
          <h4>Pigmentspeicherung</h4>
          <p>Anthocyane in der Vakuole verleihen Bl√ºten und Fr√ºchten rote, blaue oder violette Farben, die wichtig sind, um Best√§uber anzulocken und Samen zu verbreiten.</p>
        </div>
        <div class="func-card">
          <h4>Abwehr & Schutz</h4>
          <p>Die Vakuole speichert Toxine wie Alkaloide oder Tannine, die Fra√üfeinde abwehren. Manche Pflanzen lagern auch Vorstufen ein, die bei Verletzung giftige Substanzen freisetzen.</p>
        </div>
        <div class="func-card">
          <h4>pH-Regulation</h4>
          <p>Mit Hilfe von H‚Å∫-Pumpen im Tonoplast wird der pH-Wert im Zellsaft auf 3‚Äì6 gesenkt. Dies erm√∂glicht saure Abbauprozesse und sch√ºtzt das Zytoplasma (pH ~7,2) vor Ans√§uerung.</p>
        </div>
        <div class="func-card">
          <h4>Proteinspeicherung</h4>
          <p>In Samen speichern spezielle Proteinspeichervakuolen (PSV) Reserveproteine, die beim Keimen wieder abgebaut und als N√§hrstoffe genutzt werden.</p>
        </div>
        <div class="func-card">
          <h4>Zellwachstum</h4>
          <p>Die Aufnahme von Wasser in die Vakuole erm√∂glicht der Zelle schnelles und energiesparendes Wachstum, ohne dass viel neues Zytoplasma produziert werden muss.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- TYPEN TAB -->
  <div class="section" id="tab-typen">
    <div class="card">
      <h2>Typen von Vakuolen & Vorkommen</h2>
      <p>Vakuolen kommen in verschiedenen Formen vor, abh√§ngig von Zelltyp, Organismus und Funktion.</p>
      <h3>1. Zentrale Vakuole (Pflanzenzellen)</h3>
      <p>Die bekannteste Form ist die zentrale Vakuole in ausgereiften Pflanzenzellen. Sie ist meist die einzige gro√üe Vakuole und kann 70‚Äì90 % des Zellvolumens einnehmen. Sie √ºbernimmt klassische Vakuolenfunktionen wie Turgoraufbau, Speicherung von N√§hrstoffen, Pigmente und Abbau von Abfallstoffen. Dabei wird der Zellkern an den Rand der Zelle gedr√§ngt.</p>
      <h3>2. Proteinspeichervakuolen (PSV)</h3>
      <p>findet man vor allem in Samen, zum Beispiel bei Bohnen, Erbsen oder Weizen. Sie speichern Reserveproteine wie Gluteline, Prolamine und Legumine, die beim Keimen durch Proteasen abgebaut und als Stickstoffquelle genutzt werden.</p>
      <h3>3. Lytische Vakuolen</h3>
      <p>besitzen einen niedrigen pH-Wert von etwa 5 und enthalten viele Abbauenzyme (Hydrolasen). Sie erf√ºllen eine √§hnliche Funktion wie Lysosomen in Tierzellen und bauen zellul√§re Bestandteile im Rahmen der Autophagie ab.</p>
      <h3>4. Kontraktile Vakuolen</h3>
      <p>treten bei S√º√üwasser-Einzellern wie Paramecium oder Am√∂ben auf. Sie pumpen √ºbersch√ºssiges Wasser aus der Zelle und regulieren so den osmotischen Druck. Dabei pulsieren sie rhythmisch, was ihren Namen erkl√§rt.</p>
      <h3>5. Gasvakuolen (Cyanobakterien & Prokaryoten)</h3>
      <p>Bei manchen Bakterien, zum Beispiel Cyanobakterien, gibt es Gasvakuolen, gasgef√ºllte Proteinzylinder, die als Auftriebsk√∂rper dienen. Sie sind nicht mit eukaryotischen Vakuolen zu verwechseln.</p>
      <h3>Vorkommen im √úberblick</h3>
      <div class="info-grid">
        <div class="info-chip">
          <div class="ic-label">Pflanzenzellen:</div>
          <div class="ic-value">zentrale Vakuole, Proteinspeichervakuolen, lytische Vakuolen</div>
        </div>
        <div class="info-chip">
          <div class="ic-label">Pilze (Fungi):</div>
          <div class="ic-value">kleine bis mittelgro√üe Vakuolen f√ºr Speicherung und Abbau</div>
        </div>
        <div class="info-chip">
          <div class="ic-label">Tierzellen:</div>
          <div class="ic-value">kleine Vesikel oder fr√ºhe Endosomen; Lysosomen √ºbernehmen die Abbauaufgaben</div>
        </div>
        <div class="info-chip">
          <div class="ic-label">Protisten:</div>
          <div class="ic-value">kontraktile und nahrungsaufnehmende Vakuolen</div>
        </div>
      </div>
    </div>
  </div>

  <!-- VERGLEICH TAB -->
  <div class="section" id="tab-vergleich">
    <div class="card">
      <h2>Pflanzenzelle vs. Tierzelle ‚Äî Vakuolen im Vergleich</h2>
      <p>Eines der auff√§lligsten Unterschiede zwischen Pflanzen- und Tierzellen ist das Vorhandensein und die Gr√∂√üe der Vakuole.</p>
      <div class="info-grid" style="margin-top:1.5rem">
        <div class="func-card">
          <span class="fc-icon">üå±</span>
          <h4>Pflanzenzelle</h4>
          <p><strong>Gro√üe zentrale Vakuole</strong> ‚Äî sie kann bis zu 90 % des Zellvolumens ausf√ºllen und ist von der festen Zellwand eingebettet. Sie sorgt f√ºr Turgor, speichert Farbstoffe und dient als Recycling-Station. Der Tonoplast steuert dabei gezielt den Stoffaustausch.</p>
        </div>
        <div class="func-card">
          <span class="fc-icon">üêæ</span>
          <h4>Tierzelle</h4>
          <p>Keine echte Vakuole ‚Äî die Funktion des Abbaus √ºbernehmen <em>Lysosomen</em> (membrangebundene Organellen mit sauren Hydrolasen). Es gibt kleine Endosomen und phagosomale Vesikel, aber keine raumgreifende zentrale Vakuole.</p>
        </div>
      </div>
      <h3>Warum haben Tierzellen keine Vakuole?</h3>
      <p>Tierzellen sind von einer flexiblen Membran umgeben und besitzen keine starre Zellwand. Eine gro√üe Vakuole w√ºrde bei Wasseraufnahme zum Platzen der Zelle f√ºhren. Stattdessen regulieren Tierzellen ihren Wasserhaushalt √ºber andere Mechanismen, zum Beispiel √ºber Ausscheidungsorgane wie die Nieren. Pflanzen dagegen nutzen den Turgordruck innerhalb ihrer stabilen Zellwand, um Stabilit√§t zu gewinnen.</p>
      <h3>Lysosom vs. Vakuole ‚Äî Gemeinsamkeiten</h3>
      <ul>
        <li>Beide sind membranumh√ºllte, saure Kompartimente</li>
        <li>Beide enthalten hydrolytische Enzyme (Proteasen, Lipasen, Nukleasen)</li>
        <li>Beide entstehen aus dem ER/Golgi-System</li>
        <li>Beide dienen dem Abbau und der Wiederverwertung von Zellmaterial</li>
      </ul>
      <p>Manche Biologen betrachten die pflanzliche lytische Vakuole deshalb als das funktionelle Gegenst√ºck zum Lysosom in Tierzellen.</p>
      <h3>Vergleichstabelle</h3>
      <div style="overflow-x:auto;margin-top:1rem">
        <table style="width:100%;border-collapse:collapse;font-size:0.875rem">
          <tr style="background:rgba(167,209,41,0.08)">
            <th style="text-align:left;padding:0.7rem 1rem;border-bottom:1px solid var(--border);color:var(--accent)">Merkmal</th>
            <th style="text-align:left;padding:0.7rem 1rem;border-bottom:1px solid var(--border);color:var(--accent)">Pflanzenzelle</th>
            <th style="text-align:left;padding:0.7rem 1rem;border-bottom:1px solid var(--border);color:var(--accent)">Tierzelle</th>
          </tr>
          <tr style="border-bottom:1px solid var(--border)">
            <td style="padding:0.6rem 1rem">Vakuole vorhanden?</td>
            <td style="padding:0.6rem 1rem">‚úÖ Ja, gro√ü</td>
            <td style="padding:0.6rem 1rem">‚ö†Ô∏è Nein (nur kleine Vesikel)</td>
          </tr>
          <tr style="border-bottom:1px solid var(--border);background:rgba(255,255,255,0.02)">
            <td style="padding:0.6rem 1rem">Gr√∂√üe</td>
            <td style="padding:0.6rem 1rem">70‚Äì90 % der Zelle</td>
            <td style="padding:0.6rem 1rem">Sehr klein</td>
          </tr>
          <tr style="border-bottom:1px solid var(--border)">
            <td style="padding:0.6rem 1rem">Membran</td>
            <td style="padding:0.6rem 1rem">Tonoplast</td>
            <td style="padding:0.6rem 1rem">Lysosomenmembran</td>
          </tr>
          <tr style="border-bottom:1px solid var(--border);background:rgba(255,255,255,0.02)">
            <td style="padding:0.6rem 1rem">Funktion Abbau</td>
            <td style="padding:0.6rem 1rem">Lytische Vakuole</td>
            <td style="padding:0.6rem 1rem">Lysosom</td>
          </tr>
          <tr style="border-bottom:1px solid var(--border)">
            <td style="padding:0.6rem 1rem">Turgor</td>
            <td style="padding:0.6rem 1rem">‚úÖ Ja (wichtig f√ºr Stabilit√§t)</td>
            <td style="padding:0.6rem 1rem">‚ùå Nein</td>
          </tr>
          <tr style="background:rgba(255,255,255,0.02)">
            <td style="padding:0.6rem 1rem">Pigmentspeicherung</td>
            <td style="padding:0.6rem 1rem">‚úÖ Anthocyane, etc.</td>
            <td style="padding:0.6rem 1rem">‚ùå Nein</td>
          </tr>
        </table>
      </div>
    </div>
  </div>

  <div class="footer">
    Interaktive Lernseite zur Vakuole ¬∑ Biologie Schulprojekt
    <p class="copyright-note">¬© <span id="current-year"></span> Abdullah, Hennes, Fabian und Moritz</p>
  </div>
</div>

<script>
// =========================================================
// TAB NAVIGATION  (with animation)
// =========================================================
function showTab(id, btn) {
  // Hide current active section
  const current = document.querySelector('.section.active');
  if (current && current.id === 'tab-' + id) return; // already on this tab

  // Deactivate all tabs & buttons
  document.querySelectorAll('.section').forEach(s => {
    s.classList.remove('active', 'tab-enter');
    s.style.display = 'none';
  });
  document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));

  // Activate new tab with animation
  const next = document.getElementById('tab-' + id);
  next.style.display = 'block';
  // Force reflow so animation re-triggers
  void next.offsetWidth;
  next.classList.add('active', 'tab-enter');

  btn.classList.add('active');

  // If switching TO the simulation tab, trigger a canvas resize+redraw
  if (id === 'simulation') {
    setTimeout(() => { resize(); draw(); }, 50);
  }
}

// =========================================================
// SIMULATION ENGINE
// =========================================================
const canvas = document.getElementById('simCanvas');
const ctx = canvas.getContext('2d');

let W, H;
let simRunning = false;
let animId = null;
let tick = 0;

let rotX = 0.3, rotY = 0.5;
let isDragging = false;
let lastMX = 0, lastMY = 0;
let zoom = 1.0;

let vakuoleScale = 0.38;
let targetVakuoleScale = 0.38;
let particles = [];
let phase = 0;

function resize() {
  const rect = canvas.getBoundingClientRect();
  W = canvas.width = rect.width * window.devicePixelRatio;
  H = canvas.height = rect.height * window.devicePixelRatio;
  canvas.style.width = rect.width + 'px';
  canvas.style.height = rect.height + 'px';
}
window.addEventListener('resize', () => { resize(); draw(); });
resize();

// Mouse
canvas.addEventListener('mousedown', e => { isDragging = true; lastMX = e.clientX; lastMY = e.clientY; });
window.addEventListener('mouseup', () => isDragging = false);
window.addEventListener('mousemove', e => {
  if (!isDragging) return;
  rotY += (e.clientX - lastMX) * 0.012;
  rotX += (e.clientY - lastMY) * 0.008;
  rotX = Math.max(-0.6, Math.min(0.6, rotX));
  lastMX = e.clientX; lastMY = e.clientY;
  if (!simRunning) draw();
});
canvas.addEventListener('wheel', e => {
  zoom -= e.deltaY * 0.001;
  zoom = Math.max(0.5, Math.min(1.8, zoom));
  if (!simRunning) draw();
  e.preventDefault();
}, { passive: false });

// Touch
let lastTouchDist = 0;
canvas.addEventListener('touchstart', e => {
  if (e.touches.length === 1) { isDragging = true; lastMX = e.touches[0].clientX; lastMY = e.touches[0].clientY; }
  if (e.touches.length === 2) lastTouchDist = Math.hypot(e.touches[0].clientX - e.touches[1].clientX, e.touches[0].clientY - e.touches[1].clientY);
  e.preventDefault();
}, { passive: false });
canvas.addEventListener('touchend', () => { isDragging = false; });
canvas.addEventListener('touchmove', e => {
  if (e.touches.length === 1 && isDragging) {
    rotY += (e.touches[0].clientX - lastMX) * 0.012;
    rotX += (e.touches[0].clientY - lastMY) * 0.008;
    lastMX = e.touches[0].clientX; lastMY = e.touches[0].clientY;
    if (!simRunning) draw();
  }
  if (e.touches.length === 2) {
    const d = Math.hypot(e.touches[0].clientX - e.touches[1].clientX, e.touches[0].clientY - e.touches[1].clientY);
    zoom += (d - lastTouchDist) * 0.003;
    zoom = Math.max(0.5, Math.min(1.8, zoom));
    lastTouchDist = d;
    if (!simRunning) draw();
  }
  e.preventDefault();
}, { passive: false });

// 3D projection
function project3D(x3d, y3d, z3d) {
  const cosY = Math.cos(rotY), sinY = Math.sin(rotY);
  const cosX = Math.cos(rotX), sinX = Math.sin(rotX);
  const xr = x3d * cosY + z3d * sinY;
  const yr_temp = -x3d * sinY + z3d * cosY;
  const zr = y3d * sinX + yr_temp * cosX;
  const yr = y3d * cosX - yr_temp * sinX;
  const fov = 900;
  const pz = fov + zr;
  return { x: (xr / pz) * fov + W / 2, y: (yr / pz) * fov + H / 2, z: zr };
}

// Particles
function spawnParticle(ph) {
  const R = 180 * zoom;
  const vR = vakuoleScale * R / 0.38;
  if (ph === 1 || ph === 2) {
    const angle = Math.random() * Math.PI * 2;
    const r = vR * 1.6 + Math.random() * 40;
    return {
      x: Math.cos(angle) * r, y: (Math.random() - 0.5) * r * 0.6, z: Math.sin(angle) * r,
      tx: Math.cos(angle) * vR * 0.5, ty: (Math.random() - 0.5) * vR * 0.4, tz: Math.sin(angle) * vR * 0.5,
      life: 1, speed: 0.015 + Math.random() * 0.01, progress: 0,
      color: ph === 2 ? '#c8e86a' : '#ff6688', size: ph === 2 ? 4 : 5
    };
  } else {
    const angle = Math.random() * Math.PI * 2;
    const r = vR * 0.5;
    return {
      x: Math.cos(angle) * r, y: (Math.random() - 0.5) * r * 0.6, z: Math.sin(angle) * r,
      tx: Math.cos(angle) * vR * 1.5, ty: (Math.random() - 0.5) * vR * 0.6, tz: Math.sin(angle) * vR * 1.5,
      life: 1, speed: 0.02, progress: 0, color: '#ffba40', size: 4
    };
  }
}

// Main draw
function draw() {
  ctx.clearRect(0, 0, W, H);
  const cx = W / 2, cy = H / 2;
  const R = 200 * zoom;
  const vR = vakuoleScale * R / 0.38;
  const cY2 = Math.cos(rotX);

  // Outer glow
  const grd = ctx.createRadialGradient(cx, cy, 0, cx, cy, R * 1.2);
  grd.addColorStop(0, 'rgba(167,209,41,0.05)');
  grd.addColorStop(1, 'transparent');
  ctx.fillStyle = grd;
  ctx.beginPath();
  ctx.ellipse(cx, cy, R * 1.3, R * 0.9, 0, 0, Math.PI * 2);
  ctx.fill();

  // Cell body
  ctx.save();
  ctx.globalAlpha = 0.2;
  const cellGrad = ctx.createRadialGradient(cx, cy, 0, cx, cy, R);
  cellGrad.addColorStop(0, '#2a3010');
  cellGrad.addColorStop(1, '#0d1008');
  ctx.beginPath();
  ctx.ellipse(cx, cy, R, R * Math.max(0.3, Math.abs(cY2)) * 0.9, 0, 0, Math.PI * 2);
  ctx.fillStyle = cellGrad;
  ctx.fill();
  ctx.restore();

  // Chloroplasts
  const chloroPos = [[-0.7,-0.5,0.3],[0.7,-0.4,0.2],[-0.5,0.6,0.4],[0.6,0.5,-0.3],[-0.3,-0.7,-0.4],[0.4,-0.6,0.5]];
  for (const [bx, by, bz] of chloroPos) {
    const pr = (R - vR * 1.15) * 0.5;
    const lx = bx * pr, ly = by * pr * 0.6, lz = bz * pr;
    const p = project3D(lx, ly, lz);
    const pE = project3D(lx + 18 * zoom, ly, lz);
    const sz = Math.max(2, Math.hypot(pE.x - p.x, pE.y - p.y));
    const dep = Math.max(0.1, (lz + 200) / 400);
    ctx.save();
    ctx.globalAlpha = 0.75 * dep;
    ctx.beginPath();
    ctx.ellipse(p.x, p.y, sz, sz * 0.55, rotY + 0.5, 0, Math.PI * 2);
    const cg = ctx.createRadialGradient(p.x, p.y, 0, p.x, p.y, sz);
    cg.addColorStop(0, '#616F39');
    cg.addColorStop(1, '#3E432E');
    ctx.fillStyle = cg;
    ctx.fill();
    ctx.restore();
  }

  // Nucleus
  const nucleusP = project3D(-R * 0.35, -R * 0.25, 0);
  {
    const nR = R * 0.12;
    ctx.save();
    ctx.globalAlpha = 0.85;
    const ng = ctx.createRadialGradient(nucleusP.x, nucleusP.y, 0, nucleusP.x, nucleusP.y, nR * 1.5);
    ng.addColorStop(0, '#e0a030');
    ng.addColorStop(0.6, '#a06010');
    ng.addColorStop(1, '#603010');
    ctx.beginPath();
    ctx.ellipse(nucleusP.x, nucleusP.y, nR * 1.5, nR, 0.3, 0, Math.PI * 2);
    ctx.fillStyle = ng;
    ctx.fill();
    ctx.globalAlpha = 0.6;
    ctx.beginPath();
    ctx.ellipse(nucleusP.x - nR * 0.2, nucleusP.y - nR * 0.15, nR * 0.5, nR * 0.35, 0, 0, Math.PI * 2);
    ctx.fillStyle = '#ffd060';
    ctx.fill();
    ctx.restore();
  }

  // Vakuole
  {
    ctx.save();
    ctx.globalAlpha = 0.28;
    const vg = ctx.createRadialGradient(cx, cy - vR * 0.1, vR * 0.1, cx, cy, vR * 1.1);
    vg.addColorStop(0, '#d8f07a');
    vg.addColorStop(0.5, '#A7D129');
    vg.addColorStop(1, '#3E432E');
    ctx.beginPath();
    ctx.ellipse(cx, cy, vR, vR * Math.max(0.35, Math.abs(cY2)), 0, 0, Math.PI * 2);
    ctx.fillStyle = vg;
    ctx.fill();
    ctx.globalAlpha = 0.65;
    ctx.beginPath();
    ctx.ellipse(cx, cy, vR, vR * Math.max(0.35, Math.abs(cY2)), 0, 0, Math.PI * 2);
    ctx.strokeStyle = '#A7D129';
    ctx.lineWidth = 3.5 * zoom;
    ctx.setLineDash([8, 4]);
    ctx.stroke();
    ctx.setLineDash([]);
    ctx.globalAlpha = 0.12;
    ctx.beginPath();
    ctx.ellipse(cx, cy, vR + 8, (vR + 8) * Math.max(0.35, Math.abs(cY2)), 0, 0, Math.PI * 2);
    ctx.strokeStyle = '#c8e86a';
    ctx.lineWidth = 12 * zoom;
    ctx.stroke();
    ctx.restore();
  }

  // Particles
  for (const p of particles) {
    const cx3 = p.x + (p.tx - p.x) * p.progress;
    const cy3 = p.y + (p.ty - p.y) * p.progress;
    const cz3 = p.z + (p.tz - p.z) * p.progress;
    const pp = project3D(cx3, cy3, cz3);
    ctx.save();
    ctx.globalAlpha = p.life * (0.4 + 0.6 * p.progress);
    const pg = ctx.createRadialGradient(pp.x, pp.y, 0, pp.x, pp.y, p.size * zoom * 1.5);
    pg.addColorStop(0, p.color);
    pg.addColorStop(1, 'transparent');
    ctx.beginPath();
    ctx.arc(pp.x, pp.y, p.size * zoom * 1.5, 0, Math.PI * 2);
    ctx.fillStyle = pg;
    ctx.fill();
    ctx.restore();
  }

  // Cell wall
  ctx.save();
  ctx.globalAlpha = 0.55;
  ctx.beginPath();
  ctx.ellipse(cx, cy, R, R * Math.max(0.35, Math.abs(cY2)), 0, 0, Math.PI * 2);
  ctx.strokeStyle = '#616F39';
  ctx.lineWidth = 4 * zoom;
  ctx.stroke();
  ctx.globalAlpha = 0.18;
  ctx.beginPath();
  ctx.ellipse(cx, cy, R + 10 * zoom, (R + 10 * zoom) * Math.max(0.35, Math.abs(cY2)), 0, 0, Math.PI * 2);
  ctx.strokeStyle = '#616F39';
  ctx.lineWidth = 10 * zoom;
  ctx.stroke();
  ctx.restore();

  // Labels
  drawLabel('Vakuole\n(Tonoplast)', cx + vR * 0.7, cy - vR * 0.6, '#A7D129');
  drawLabel('Zellkern', nucleusP.x + 40, nucleusP.y - 20, '#e0a030');
  drawLabel('Zellmembran\n+ Zellwand', cx + R * 0.82, cy - R * 0.2, '#616F39');
}

function drawLabel(text, x, y, color) {
  const lines = text.split('\n');
  ctx.save();
  ctx.font = `${Math.max(13, 13 * zoom)}px Nunito, sans-serif`;
  ctx.fillStyle = color;
  ctx.globalAlpha = 0.8;
  lines.forEach((l, i) => ctx.fillText(l, x, y + i * 17 * zoom));
  ctx.restore();
}

// Sim loop
function simLoop() {
  tick++;
  if (tick < 200) phase = 1;
  else if (tick < 500) phase = 2;
  else if (tick < 600) phase = 3;
  else { tick = 0; phase = 1; }

  if (phase === 1) targetVakuoleScale = 0.38 + (tick / 200) * 0.04;
  if (phase === 2) targetVakuoleScale = 0.42 + ((tick - 200) / 300) * 0.14;
  if (phase === 3) targetVakuoleScale = 0.56 - ((tick - 500) / 100) * 0.18;

  vakuoleScale += (targetVakuoleScale - vakuoleScale) * 0.03;
  vakuoleScale = Math.max(0.3, Math.min(0.58, vakuoleScale));
  rotY += 0.004;

  if (tick % 6 === 0) particles.push(spawnParticle(phase));
  for (const p of particles) {
    p.progress = Math.min(1, p.progress + p.speed);
    if (p.progress >= 1) p.life -= 0.08;
  }
  particles = particles.filter(p => p.life > 0);

  const bar = document.getElementById('simInfoBar');
  if (phase === 1) bar.textContent = '‚ö° Phase 1: Ionen (K‚Å∫, Cl‚Åª) werden aktiv √ºber H‚Å∫-ATPasen in die Vakuole gepumpt ‚Äî Osmotisches Potential sinkt.';
  else if (phase === 2) bar.textContent = 'üíß Phase 2: Wasser str√∂mt durch Aquaporine osmotisch nach ‚Äî die Vakuole w√§chst, Turgordruck steigt auf ~8 bar.';
  else bar.textContent = 'üîÅ Phase 3: Ionenpumpen arbeiten r√ºckw√§rts ‚Äî Zellsaft wird teilweise entleert, Vakuole schrumpft.';

  draw();
  if (simRunning) animId = requestAnimationFrame(simLoop);
}

function startSim() {
  if (simRunning) return;
  simRunning = true;
  document.getElementById('simStatus').textContent = '‚óè L√§uft';
  document.getElementById('simStatus').className = 'sim-status running';
  simLoop();
}

function stopSim() {
  simRunning = false;
  if (animId) cancelAnimationFrame(animId);
  document.getElementById('simStatus').textContent = '‚óè Gestoppt';
  document.getElementById('simStatus').className = 'sim-status stopped';
  document.getElementById('simInfoBar').textContent = 'Simulation gestoppt. Du kannst die Zelle noch drehen und zoomen.';
}

function resetSim() {
  stopSim();
  vakuoleScale = 0.38; targetVakuoleScale = 0.38;
  rotX = 0.3; rotY = 0.5; zoom = 1.0;
  particles = []; tick = 0; phase = 0;
  document.getElementById('simStatus').textContent = '‚óè Bereit';
  document.getElementById('simStatus').className = 'sim-status idle';
  document.getElementById('simInfoBar').textContent = 'Starte die Simulation, um zu sehen, wie die Vakuole Turgor aufbaut und Ionen transportiert.';
  draw();
}

// Init
setTimeout(() => { resize(); draw(); }, 100);

// Copyright year
(function() {
  const y = document.getElementById('current-year');
  if (y) y.textContent = new Date().getFullYear();
})();
</script>
</body>
</html>